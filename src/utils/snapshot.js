// using snapshots to save multiple changes